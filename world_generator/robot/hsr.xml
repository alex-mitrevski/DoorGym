<mujoco model="hsrb">
    <compiler angle="radian" meshdir="./" />
    <size njmax="500" nconmax="100" />
    <asset>
        <mesh name="base" file="../../robot/STL/HSR/base.stl" />
        <mesh name="laser" file="../../robot/STL/HSR/laser.stl" />
        <mesh name="torso" file="../../robot/STL/HSR/torso.stl" />
        <mesh name="head_pan" file="../../robot/STL/HSR/head_pan.stl" />
        <mesh name="head" file="../../robot/STL/HSR/head.stl" />
        <mesh name="tablet" file="../../robot/STL/HSR/tablet.stl" />
        <mesh name="xtion" file="../../robot/STL/HSR/xtion.stl" />
        <mesh name="shoulder" file="../../robot/STL/HSR/shoulder.stl" />
        <mesh name="arm_flex" file="../../robot/STL/HSR/arm_flex.stl" />
        <mesh name="arm_roll" file="../../robot/STL/HSR/arm_roll.stl" />
        <mesh name="wrist_roll" file="../../robot/STL/HSR/wrist_roll.stl" />
        <mesh name="palm" file="../../robot/STL/HSR/palm.stl" />
        <mesh name="l_proximal" file="../../robot/STL/HSR/l_proximal.stl" />
        <mesh name="l_distal" file="../../robot/STL/HSR/l_distal.stl" />
        <mesh name="r_proximal" file="../../robot/STL/HSR/r_proximal.stl" />
        <mesh name="r_distal" file="../../robot/STL/HSR/r_distal.stl" />
    </asset>
    <worldbody>
        <body childclass="robot" name="hsr" pos="0.63 -0.25 -0.05" euler="0 0 3.14">
            <geom type="mesh" mesh="base" contype="16" conaffinity="7" />
            <geom pos="0.1675 0 0.1844" type="mesh" mesh="laser" />
            <joint name="base_link_x_joint" type="slide" pos="0 0 0" range="-100000000 100000000" axis="1 0 0" />
            <joint name="base_link_y_joint" type="slide" pos="0 0 0" range="-100000000 100000000" axis="0 1 0" />
            <joint name="base_link_theta_joint" pos="0 0 0" range="-3.14 3.14" axis="0 0 1" />
            <body name="base_roll_link" pos="0 0 0">
                <inertial pos="-0.019482 0.002191 0.071013" quat="-0.163088 0.695987 0.176074 0.676759" mass="10.2394" diaginertia="0.145076 0.0958414 0.0713624" />
                <joint name="base_roll_joint" pos="0 0 0" axis="0 0 1" range="-3.14 3.14" damping="0.7" />
                <body name="base_r_drive_wheel_link" pos="-0.11 -0.133 0.04">
                    <inertial pos="0 0 0" mass="0.2" diaginertia="0.015 0.015 0.015" />
                    <joint name="base_r_drive_wheel_joint" pos="0 0 0" axis="0 1 0" damping="1" range="-3.14 3.14" />
                    <geom size="0.04 0.015" quat="0.707107 0.707107 0 0" type="cylinder" rgba="0.2 0.2 0.2 1" />
                </body>
                <body name="base_l_drive_wheel_link" pos="-0.11 0.133 0.04">
                    <inertial pos="0 0 0" mass="0.2" diaginertia="0.015 0.015 0.015" />
                    <joint name="base_l_drive_wheel_joint" pos="0 0 0" axis="0 1 0" damping="1" range="-3.14 3.14" />
                    <geom size="0.04 0.015" quat="0.707107 0.707107 0 0" type="cylinder" rgba="0.2 0.2 0.2 1" />
                </body>
                <body name="base_r_passive_wheel_x_frame" pos="0.1495 -0.055 0.03">
                    <inertial pos="0 0 0" mass="0.2" diaginertia="0.015 0.015 0.015" />
                    <joint name="base_r_passive_wheel_x_frame_joint" pos="0 0 0" axis="1 0 0" damping="1" range="-3.14 3.14" />
                    <body name="base_r_passive_wheel_y_frame" pos="0 0 0">
                        <inertial pos="0 0 0" mass="0.2" diaginertia="0.015 0.015 0.015" />
                        <joint name="base_r_passive_wheel_y_frame_joint" pos="0 0 0" axis="0 1 0" range="-3.14 3.14" />
                        <body name="base_r_passive_wheel_z_link" pos="0 0 0">
                            <inertial pos="0 0 0" mass="0.2" diaginertia="0.015 0.015 0.015" />
                            <joint name="base_r_passive_wheel_z_joint" pos="0 0 0" axis="0 0 1" range="-3.14 3.14" />
                            <geom size="0.03" rgba="0.2 0.2 0.2 1" />
                        </body>
                    </body>
                </body>
                <body name="base_l_passive_wheel_x_frame" pos="0.1495 0.055 0.03">
                    <inertial pos="0 0 0" mass="0.2" diaginertia="0.015 0.015 0.015" />
                    <joint name="base_l_passive_wheel_x_frame_joint" pos="0 0 0" axis="1 0 0" damping="1" range="-3.14 3.14" />
                    <body name="base_l_passive_wheel_y_frame" pos="0 0 0">
                        <inertial pos="0 0 0" mass="0.2" diaginertia="0.015 0.015 0.015" />
                        <joint name="base_l_passive_wheel_y_frame_joint" pos="0 0 0" axis="0 1 0" range="-3.14 3.14" />
                        <body name="base_l_passive_wheel_z_link" pos="0 0 0">
                            <inertial pos="0 0 0" mass="0.2" diaginertia="0.015 0.015 0.015" />
                            <joint name="base_l_passive_wheel_z_joint" pos="0 0 0" axis="0 0 1" range="-3.14 3.14" />
                            <geom size="0.03" rgba="0.2 0.2 0.2 1" />
                        </body>
                    </body>
                </body>
            </body>
            <body name="torso_lift_link" pos="0 0 0.752">
                <inertial pos="-0.051142 0.003454 -0.2905" quat="0.511154 0.00760492 -0.0140194 0.859341" mass="3.42078" diaginertia="0.105342 0.104252 0.0127461" />
                <joint name="torso_lift_joint" pos="0 0 0" axis="0 0 1" type="slide" limited="true" range="0 0.345" damping="500" />
                <geom type="mesh" mesh="torso" />
                <body name="head_pan_link" pos="0 0 0">
                    <inertial pos="0.001724 -0.001969 -0.028886" quat="0.865343 0.459592 0.192259 -0.0547077" mass="0.571903" diaginertia="0.00102408 0.00077623 0.000589392" />
                    <joint name="head_pan_joint" pos="0 0 0" axis="0 0 1" limited="true" range="-3.84 1.75" damping="1" />
                    <geom type="mesh" mesh="head_pan" />
                    <body name="head_tilt_link" pos="0.02 0 0">
                        <inertial pos="-0.05355 -0.00214792 0.117073" quat="0.972398 0.00982886 -0.23307 -0.00494861" mass="2.2038" diaginertia="0.0307153 0.0237063 0.0175066" />
                        <joint name="head_tilt_joint" pos="0 0 0" axis="0 -1 0" limited="true" range="-1.57 0.52" damping="10" />
                        <geom type="mesh" mesh="head" />
                        <geom type="mesh" mesh="tablet" />
                        <geom pos="-0.079796 0.022 0.215172" quat="0.5 -0.5 0.5 -0.5" type="mesh" mesh="xtion" />
                    </body>
                </body>
            </body>
            <body name="arm_lift_link" pos="0 0 0.7" euler="0 0.5 0">
                <inertial pos="0.051549 0.042438 -0.064145" quat="-0.111496 0.499152 -0.110462 0.852182" mass="1.27582" diaginertia="0.00909548 0.00799354 0.00328099" />
                <joint name="arm_lift_joint" pos="0 0 0" axis="0 0 1" type="slide" limited="true" range="0 0.69" damping="1" />
                <geom type="mesh" mesh="shoulder" contype="16" conaffinity="7" />
                <body name="arm_flex_link" pos="0.141 0.078 0">
                    <inertial pos="0.000632 0.006404 0.118529" quat="0.999966 -0.00826681 1.5355e-06 -1.33584e-06" mass="1.33929" diaginertia="2.51222 2.51222 2.51222" />
                    <joint name="arm_flex_joint" pos="0 0 0" axis="0 -1 0" limited="true" range="-2.62 0" damping="1" />
                    <geom type="mesh" mesh="arm_flex" contype="16" conaffinity="7" />
                    <body name="arm_roll_link" pos="0.005 0 0.345">
                        <inertial pos="-0.006927 0.002039 -0.064837" quat="0.704471 0.707171 -0.0444888 0.0406182" mass="0.247936" diaginertia="0.00426928 0.00411787 0.00078077" />
                        <joint name="arm_roll_joint" pos="0 0 0" axis="0 0 1" limited="true" range="-2.09 3.84" damping="0.1" />
                        <geom type="mesh" mesh="arm_roll" contype="16" conaffinity="7" />
                        <body name="wrist_flex_link" pos="0 0 0" euler="0 0.9 1.57">
                            <inertial pos="0.000131 -0.003929 0.00217" quat="0.672298 0.740248 0.0055614 0.00418043" mass="0.681225" diaginertia="7.43604e-05 6.49274e-05 3.81796e-05" />
                            <joint name="wrist_flex_joint" pos="0 0 0" axis="0 -1 0" limited="true" range="-1.92 1.22" damping="1" />
                            <geom size="0.017 0.02" pos="0 0 0.03" type="cylinder" rgba="0.33 0.33 0.33 1" contype="16" conaffinity="7" />
                            <body name="wrist_ft_sensor_mount_link" pos="0 0 0">
                                <inertial pos="0 0 0" mass="0.01" diaginertia="0.001 0.001 0.001" />
                                <joint name="wrist_roll_joint" pos="0 0 0" axis="0 0 1" limited="true" range="-1.92 3.67" damping="1" />
                                <body name="wrist_ft_sensor_frame" pos="0 0 0.0735" quat="0 1 0 0">
                                    <inertial pos="0.000192679 0.0012513 -0.0186234" quat="0.931239 -0.00517143 -0.0292254 0.363198" mass="0.941692" diaginertia="0.0193002 0.0192663 0.0184886" />

                                    <!-- The following joint needs to have high stiffness; otherwise, it causes the wrist to fall unnaturally along the y-axis of the base frame -->
                                    <joint name="wrist_ft_sensor_frame_joint" pos="0 0 0" axis="1 0 0" range="-3.14 3.14" stiffness="100" />

                                    <geom pos="0 0 0.0735" quat="0 -1 0 0" type="mesh" mesh="wrist_roll" contype="16" conaffinity="7" />
                                    <geom pos="0.012 0 -0.067" quat="0 0 1 0" type="mesh" mesh="palm" contype="16" conaffinity="7" />
                                    <body name="hand_motor_dummy_link" pos="0.012 0 -0.067" quat="0 0 1 0">
                                        <inertial pos="0 0 0" mass="0.01" diaginertia="0.0015 0.0015 0.0015" />
                                        <joint name="hand_motor_joint" pos="0 0 0" axis="1 0 0" limited="true" range="-0.798 1.24" damping="0.0001" />
                                    </body>
                                    <body name="hand_l_proximal_link" pos="0.02875 -0.0245 -0.0495" quat="0 0 1 0">
                                        <inertial pos="0 0 0" mass="0.01" diaginertia="0.0015 0.0015 0.0015" />
                                        <joint name="hand_l_proximal_joint" pos="0 0 0" axis="1 0 0" limited="true" range="0 1.24" damping="0.0001" stiffness="1.0" />
                                        <body name="hand_l_spring_proximal_link" pos="0 0 0">
                                            <inertial pos="0.021418 0.00248 0.022688" quat="0.701927 0.0145759 0.051882 0.710208" mass="0.043589" diaginertia="2.88931e-05 2.62201e-05 4.88149e-06" />
                                            <joint name="hand_l_spring_proximal_joint" pos="0 0 0" axis="1 0 0" limited="true" range="0 0.698" damping="0.0001" stiffness="1.0" />
                                            <geom type="mesh" mesh="l_proximal" contype="16" conaffinity="7" />
                                            <body name="hand_l_mimic_distal_link" pos="0 0 0.07">
                                                <inertial pos="0 0 0" mass="0.01" diaginertia="0.0015 0.0015 0.0015" />
                                                <joint name="hand_l_mimic_distal_joint" pos="0 0 0" axis="1 0 0" limited="true" range="-0.698 0" damping="0.0001" stiffness="1.0" />
                                                <body name="hand_l_distal_link" pos="0 0 0">
                                                    <inertial pos="0.0109626 0.00478922 0.0261314" quat="0.910181 -0.370475 0.0796206 -0.16727" mass="0.047731" diaginertia="0.00301383 0.00300955 0.00300742" />
                                                    <joint name="hand_l_distal_joint" pos="0 0 0" axis="1 0 0" limited="true" range="-1.24 0.798" damping="0.0001" stiffness="1.0" />
                                                    <geom type="mesh" mesh="l_distal" contype="16" conaffinity="7" />
                                                </body>
                                            </body>
                                        </body>
                                    </body>
                                    <body name="hand_r_proximal_link" pos="0.02875 0.0245 -0.0495" quat="0 0 1 0">
                                        <inertial pos="0 0 0" mass="0.01" diaginertia="0.0015 0.0015 0.0015" />
                                        <joint name="hand_r_proximal_joint" pos="0 0 0" axis="-1 0 0" limited="true" range="0 1.24" damping="0.0001" stiffness="1.0" />
                                        <body name="hand_r_spring_proximal_link" pos="0 0 0">
                                            <inertial pos="0.013203 0.002096 0.023311" quat="0.696227 -0.0447896 0.0033388 0.716415" mass="0.043956" diaginertia="2.89497e-05 2.63111e-05 4.7712e-06" />
                                            <joint name="hand_r_spring_proximal_joint" pos="0 0 0" axis="-1 0 0" limited="true" range="0 0.698" damping="0.0001" stiffness="1.0" />
                                            <geom type="mesh" mesh="r_proximal" contype="16" conaffinity="7" />
                                            <body name="hand_r_mimic_distal_link" pos="0 0 0.07">
                                                <inertial pos="0 0 0" mass="0.01" diaginertia="0.0015 0.0015 0.0015" />
                                                <joint name="hand_r_mimic_distal_joint" pos="0 0 0" axis="-1 0 0" limited="true" range="-0.698 0" damping="0.0001" stiffness="1.0" />
                                                <body name="hand_r_distal_link" pos="0 0 0">
                                                    <inertial pos="0.0150624 -0.0116608 0.0244179" quat="0.67461 0.159192 -0.114484 0.711655" mass="0.030927" diaginertia="0.00151029 0.00150887 0.00150241" />
                                                    <joint name="hand_r_distal_joint" pos="0 0 0" axis="-1 0 0" limited="true" range="-1.24 0.798" damping="0.0001" stiffness="1.0" />
                                                    <geom type="mesh" mesh="r_distal" contype="16" conaffinity="7" />
                                                </body>
                                            </body>
                                        </body>
                                    </body>
                                </body>
                            </body>
                        </body>
                    </body>
                </body>
            </body>
        </body>
    </worldbody>

    <compiler balanceinertia="true"/>

    <default>
        <joint armature="1" damping="1" limited="true"/>
        <geom conaffinity="0" condim="3" density="5.0" friction="1 0.5 0.5" margin="0.01" rgba="0.8 0.6 0.4 1"/>
    </default>

    <actuator>
      <position name="armflexctrl_pos" kp="35" ctrllimited="true" ctrlrange="-2.617 0" gear="1" joint="arm_flex_joint" />
      <velocity name="armflexctrl_vel" kv="35" ctrllimited="true" ctrlrange="-1.0 1.0" gear="1" joint="arm_flex_joint" />

      <position name="armliftctrl_pos" kp="120" ctrllimited="true" ctrlrange="0 0.69" gear="1" joint="arm_lift_joint" />
      <velocity name="armliftctrl_vel" kv="35" ctrllimited="true" ctrlrange="-1.0 1.0" gear="1" joint="arm_lift_joint" />

      <position name="armrollctrl_pos" kp="35" ctrllimited="true" ctrlrange="-1.919 3.665" gear="1" joint="arm_roll_joint" />
      <velocity name="armrollctrl_vel" kv="35" ctrllimited="true" ctrlrange="-1.0 1.0" gear="1" joint="arm_roll_joint" />

      <position name="wristflexctrl_pos" kp="35" ctrllimited="true" ctrlrange="-1.919 1.221" gear="1" joint="wrist_flex_joint" />
      <velocity name="wristflexctrl_vel" kv="35" ctrllimited="true" ctrlrange="-1.0 1.0" gear="1" joint="wrist_flex_joint" />

      <position name="wristrollctrl_pos" kp="35" ctrllimited="true" ctrlrange="-1.919 3.665" gear="1" joint="wrist_roll_joint" />
      <velocity name="wristrollctrl_vel" kv="35" ctrllimited="true" ctrlrange="-1.0 1.0" gear="1" joint="wrist_roll_joint" />

      <position name="leftfingerctrl_pos" kp="120" ctrllimited="true" ctrlrange="0 1.239" gear="1" joint="hand_l_proximal_joint" />
      <velocity name="leftfingerctrl_vel" kv="120" ctrllimited="true" ctrlrange="-1.0 1.0" gear="1" joint="hand_l_proximal_joint" />

      <position name="rightfingerctrl_pos" kp="120" ctrllimited="true" ctrlrange="0 1.239" gear="1" joint="hand_r_proximal_joint" />
      <velocity name="rightfingerctrl_vel" kv="120" ctrllimited="true" ctrlrange="-1.0 1.0" gear="1" joint="hand_r_proximal_joint" />

      <position name="baselinkx_pos" kp="120" ctrllimited="true" ctrlrange="-1 1" gear="1" joint="base_link_x_joint" />
      <velocity name="baselinkx_vel" kv="120" ctrllimited="true" ctrlrange="-1 1" gear="1" joint="base_link_x_joint" />

      <position name="baselinky_pos" kp="120" ctrllimited="true" ctrlrange="-1 1" gear="1" joint="base_link_y_joint" />
      <velocity name="baselinky_vel" kv="120" ctrllimited="true" ctrlrange="-1 1" gear="1" joint="base_link_y_joint" />

      <position name="baselinktheta_pos" kp="120" ctrllimited="true" ctrlrange="-3.14 3.14" gear="1" joint="base_link_theta_joint" />
      <velocity name="baselinktheta_vel" kv="120" ctrllimited="true" ctrlrange="-3.14 3.14" gear="1" joint="base_link_theta_joint" />
    </actuator>
</mujoco>
